{
    "$schema": "http://json-schema.org/draft-04/schema#",

	"definitions": {
        
        "changegroup": {
            "type": "object",
            "oneOf": [{
                "additionalProperties": false,
                "properties": {
                    "changeType": { "type": "string", "enum": ["BECMG", "TEMPO", "PROB30", "PROB30 TEMPO", "PROB40", "PROB40 TEMPO"]},
                    "changeStart": { "type": "string", "format": "date-time" },
                    "changeEnd": { "type": "string", "format": "date-time" },
                    "forecast": {"$ref": "forecast.json#/definitions/forecast"}
                },
                "required": ["changeType", "changeStart", "changeEnd", "forecast"],
	            "$geoweb::messages": {
	                "required": "A changegroup must have a type, time (duration or start), and a change"
	            }
            }, {
                "additionalProperties": false,
                "properties": {
                    "changeType": { "type": "string", "enum": ["FM"]},
                    "changeStart": { "type": "string", "format": "date-time" },
                    "forecast": {"$ref": "forecast.json#/definitions/forecast"}
                },
                "required": ["changeType", "changeStart", "forecast"]
            }]
        },
        "changegroups": {
            "type": "array",
            "minItems": 0,
            "maxItems": 10,
            "items": [{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"},{"$ref": "#/definitions/changegroup"}],
            "additionalProperties": false,
        	"$geoweb::messages": {
                "maxItems": "That's way too many changegroups'"
            }
        }
    }
}
