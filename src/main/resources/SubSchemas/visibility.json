 {
	"$schema": "http://json-schema.org/draft-04/schema#",
	"definitions": {
         "visibility": {
            "required": ["value"],
            "type": "object",
            "oneOf": [{
                "properties": {
                	"unit": { "type": "string", "enum": ["M", "KM"] },
                    "value": { 
                        "type": "integer", "minimum": 0, "maximum": 799, "multipleOf": 50 ,
                        "$geoweb::messages": {
                            "minimum": "Visibility cannot be fewer than 0 meters",
                            "multipleOf": "When visibility is between 0 and 800 meters it must be a multiple of 50 meters"
                        }
                    }
                },
                "additionalProperties": false
            },{
                "properties": {
                    "unit": { "type": "string", "enum": ["M", "KM"] },
                    "value": { 
                        "type": "integer", "minimum": 800, "maximum": 4999, "multipleOf": 100,
                        "$geoweb::messages": {
                            "multipleOf": "When visibility is between 800 and 5000 meters it must be a multiple of 100 meters"
                        }

                    }
                },
                "additionalProperties": false
            }, {
                "properties": {
                    "unit": { "type": "string", "enum": ["M", "KM"] },
                    "value": { 
                        "type": "integer", "minimum": 5000, "maximum": 9999, "multipleOf": 1000,
                        "$geoweb::messages": {
                            "maximum": "Visibility cannot be greater than 10000 meters",
                            "multipleOf": "When visibility is between 5000 and 10000 meters it must be a multiple of 1000 meters"
                        }
                    }
                },
                "additionalProperties": false
            }, {
                "properties": {
                    "unit": { "type": "string", "enum": ["M", "KM"] },
                    "value": { "type": "integer", "enum": [9999] }
                },
                "additionalProperties": false
            }]
		}
	}
}
    